{
    "swagger": "2.0",
    "info": {
        "title": "Ticket booking API documentation",
        "contact": {},
        "version": "0.1.0"
    },
    "host": "localhost:11300",
    "basePath": "/",
    "paths": {
        "/events": {
            "get": {
                "description": "Get all events",
                "tags": [
                    "Events"
                ],
                "summary": "Get all events",
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/responses.EventList"
                        }
                    },
                    "400": {
                        "description": "Bad Request",
                        "schema": {
                            "$ref": "#/definitions/responses.MyError"
                        }
                    },
                    "404": {
                        "description": "Not Found",
                        "schema": {
                            "$ref": "#/definitions/responses.MyError"
                        }
                    },
                    "500": {
                        "description": "Internal Server Error",
                        "schema": {
                            "$ref": "#/definitions/responses.MyError"
                        }
                    }
                }
            },
            "post": {
                "description": "Create event",
                "tags": [
                    "Events"
                ],
                "summary": "Create event",
                "parameters": [
                    {
                        "description": "Event Data",
                        "name": "event",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/requests.CreateEvent"
                        }
                    }
                ],
                "responses": {
                    "201": {
                        "description": "Created",
                        "schema": {
                            "$ref": "#/definitions/responses.ResponseId"
                        }
                    },
                    "400": {
                        "description": "Bad Request",
                        "schema": {
                            "$ref": "#/definitions/responses.MyError"
                        }
                    },
                    "404": {
                        "description": "Not Found",
                        "schema": {
                            "$ref": "#/definitions/responses.MyError"
                        }
                    },
                    "500": {
                        "description": "Internal Server Error",
                        "schema": {
                            "$ref": "#/definitions/responses.MyError"
                        }
                    }
                }
            }
        },
        "/events/{id}": {
            "get": {
                "description": "Get event detail",
                "tags": [
                    "Events"
                ],
                "summary": "Get event detail",
                "parameters": [
                    {
                        "type": "string",
                        "description": "Event ID",
                        "name": "id",
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/events.EventDetail"
                        }
                    },
                    "400": {
                        "description": "Bad Request",
                        "schema": {
                            "$ref": "#/definitions/responses.MyError"
                        }
                    },
                    "404": {
                        "description": "Not Found",
                        "schema": {
                            "$ref": "#/definitions/responses.MyError"
                        }
                    },
                    "500": {
                        "description": "Internal Server Error",
                        "schema": {
                            "$ref": "#/definitions/responses.MyError"
                        }
                    }
                }
            }
        },
        "/tickets/booking": {
            "post": {
                "description": "Booking tickets for an event",
                "tags": [
                    "Tickets"
                ],
                "summary": "Booking tickets for an event",
                "parameters": [
                    {
                        "description": "Booking Data",
                        "name": "event",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/requests.CreateBooking"
                        }
                    }
                ],
                "responses": {
                    "201": {
                        "description": "Created",
                        "schema": {
                            "$ref": "#/definitions/bookings.CreateBookingResponse"
                        }
                    },
                    "400": {
                        "description": "Bad Request",
                        "schema": {
                            "$ref": "#/definitions/responses.MyError"
                        }
                    },
                    "404": {
                        "description": "Not Found",
                        "schema": {
                            "$ref": "#/definitions/responses.MyError"
                        }
                    },
                    "500": {
                        "description": "Internal Server Error",
                        "schema": {
                            "$ref": "#/definitions/responses.MyError"
                        }
                    }
                }
            }
        },
        "/tickets/{id}": {
            "get": {
                "description": "Ticket detail",
                "tags": [
                    "Tickets"
                ],
                "summary": "Ticket detail",
                "parameters": [
                    {
                        "type": "string",
                        "description": "Ticket ID",
                        "name": "id",
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/tickets.TicketDetailStruct"
                        }
                    },
                    "400": {
                        "description": "Bad Request",
                        "schema": {
                            "$ref": "#/definitions/responses.MyError"
                        }
                    },
                    "404": {
                        "description": "Not Found",
                        "schema": {
                            "$ref": "#/definitions/responses.MyError"
                        }
                    },
                    "500": {
                        "description": "Internal Server Error",
                        "schema": {
                            "$ref": "#/definitions/responses.MyError"
                        }
                    }
                }
            }
        }
    },
    "definitions": {
        "bookings.CreateBookingResponse": {
            "type": "object",
            "properties": {
                "id": {
                    "type": "integer"
                },
                "total_payment": {
                    "type": "integer"
                },
                "total_ticket": {
                    "type": "integer"
                },
                "valid_until": {
                    "type": "string"
                }
            }
        },
        "events.EventDetail": {
            "type": "object",
            "properties": {
                "created_at": {
                    "type": "string"
                },
                "event_time": {
                    "type": "string"
                },
                "id": {
                    "type": "integer"
                },
                "name": {
                    "type": "string"
                },
                "ticket_booked": {
                    "type": "integer"
                },
                "ticket_price": {
                    "type": "string"
                },
                "ticket_remains": {
                    "type": "integer"
                },
                "total_tickets": {
                    "type": "integer"
                }
            }
        },
        "events.EventList": {
            "type": "object",
            "properties": {
                "created_at": {
                    "type": "string"
                },
                "event_time": {
                    "type": "string"
                },
                "id": {
                    "type": "integer"
                },
                "name": {
                    "type": "string"
                },
                "ticket_price": {
                    "type": "string"
                },
                "total_tickets": {
                    "type": "integer"
                }
            }
        },
        "requests.CreateBooking": {
            "type": "object",
            "required": [
                "event_id",
                "name",
                "total"
            ],
            "properties": {
                "event_id": {
                    "type": "integer"
                },
                "name": {
                    "type": "string"
                },
                "total": {
                    "type": "integer"
                }
            }
        },
        "requests.CreateEvent": {
            "type": "object",
            "required": [
                "event_time",
                "name",
                "ticket_price",
                "total_tickets"
            ],
            "properties": {
                "event_time": {
                    "type": "string"
                },
                "name": {
                    "type": "string"
                },
                "ticket_price": {
                    "type": "integer"
                },
                "total_tickets": {
                    "type": "integer"
                }
            }
        },
        "responses.EventList": {
            "type": "object",
            "properties": {
                "events": {
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/events.EventList"
                    }
                }
            }
        },
        "responses.MyError": {
            "type": "object",
            "properties": {
                "message": {
                    "type": "string"
                }
            }
        },
        "responses.ResponseId": {
            "type": "object",
            "properties": {
                "id": {
                    "type": "integer"
                }
            }
        },
        "tickets.TicketDetailStruct": {
            "type": "object",
            "properties": {
                "booking_id": {
                    "type": "integer"
                },
                "created_at": {
                    "type": "string"
                },
                "event_id": {
                    "type": "integer"
                },
                "event_name": {
                    "type": "string"
                },
                "event_time": {
                    "type": "string"
                },
                "id": {
                    "type": "integer"
                },
                "is_paid": {
                    "type": "integer"
                },
                "name": {
                    "type": "string"
                },
                "ticket_price": {
                    "type": "string"
                },
                "valid_until": {
                    "type": "string"
                }
            }
        }
    }
}